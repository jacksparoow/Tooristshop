<div class="main-panel" >
    <div class="my-container">
        <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
    </div>
    <div class="content-wrapper">
      <div class="card">
       <div class="card-body">
         <div class="row">
           <div class="col-md-3">
          <h4 class="card-title" style="color:#131e42" *ngIf="leadsCount">
            Current Leads : {{leadsCount.currentLeadsCount}}</h4></div>
            <div class="col-md-3">
                <!-- <button [disabled] = "!chekedLead" (click)="openModelWindow(template)"
                 type="button" [hidden]="true"
                class="btn btn-success block" >Assign Lead</button> -->
              </div>
          </div>
          <div class="row">
            <div class="col-12 table-responsive">
              <div id="tableSelectedLeads" *ngIf="true">
               <table id="mydatatable" class="table table-striped">
                <thead style="background: #87ceeb">
                  <tr>
                    <th></th>
                    <th>Lead Id</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone Number</th> 
                    <th>Lead Source</th>
                   <!-- <th>Assigned To User</th>-->
                   <th>Remarks</th>
                   
                    </tr>
                    
                </thead>
                <tbody>
                  <tr *ngFor="let myList of myLead; let i = index" [attr.data-index]="i" >
                    <th><button (click)="openModelWindow(template,i)">ask quotation</button>
                    </th>
                  <td>{{myList.leadid}}</td>
                  <td>{{myList.name}} </td>
                  <td>{{myList.email}}</td>
                  <td>{{myList.phonenumber}}</td>
                  <td>{{myList.leadsource}}</td>
                  <td>{{myList.cmpctlabel}}</td>
                  <!--<td >{{myList.cmpctLabel}}</td>-->
                  
             
                </tr>
                </tbody>
              </table>
            </div>
            </div>
            
          </div>
        </div>
      </div>
    </div>
    <!-- content-wrapper ends -->
    
  </div>

  <ng-template #template>
      <div class="modal-header">
        <h4 class="modal-title pull-left">Ask For Quotaion</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="row">
             
          <div class="col-md-6" *ngIf="agents">
              <span class="block">Agents</span>
                <ng-multiselect-dropdown class="block" *ngIf="dropdownListAgent"
                [placeholder]="'Select Agent'"
                [data]="dropdownListAgent"
                [(ngModel)]="selectedAgentList"
                [settings]="dropdownSettingsAgent"
                (onSelect)="onItemSelectA($event)"
                >
              </ng-multiselect-dropdown>
        </div>
        
        </div>
    
        <div id="tableSelectedLeads" *ngIf="selectedLead">
            
         </div>
    
         <div class="row">
            <div style="margin-left:20px;">
               <button [disabled]="false" type="button" class="btn btn-danger btn-md" 
               data-dismiss="modal" (click)="sendToAgents()">Ask for Quotaion</button>
               &nbsp;  &nbsp;       
             <button type="button" class="btn btn-primary btn-md" 
             data-dismiss="modal" (click)="cancelAssignment()">Cancel</button>
          </div>
          </div>
      </div>
    </ng-template>
    